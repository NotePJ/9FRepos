<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.webServer>
    <httpProtocol>
      <customHeaders>
        <!-- Remove existing CSP header if any -->
        <remove name="Content-Security-Policy" />
        <!-- Add CSP header with allowed sources -->
        <add name="Content-Security-Policy"
             value="default-src 'self'; font-src 'self' data: https://fonts.gstatic.com https://fonts.googleapis.com; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; img-src 'self' data: https:; connect-src 'self';" />
      </customHeaders>
    </httpProtocol>
    <staticContent>
      <!-- Ensure proper MIME types for fonts -->
      <remove fileExtension=".woff" />
      <remove fileExtension=".woff2" />
      <mimeMap fileExtension=".woff" mimeType="font/woff" />
      <mimeMap fileExtension=".woff2" mimeType="font/woff2" />
    </staticContent>
  </system.webServer>
</configuration>
