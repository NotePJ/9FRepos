# ?? ????? Project Template ??? AbpProject

??????????????????????? clone project ??????????? template ????????????????????

## ?? ????????
????? reusable template ?????????:
1. Clone ??????????????????????????
2. ???????????????????????????????
3. ?? configuration ??????????????
4. ?? dev user ?????? development

---

## ?? ??????? 1: Manual Clone & Rename

### 1. Clone Repository
```powershell
# Clone project ????? location ????
cd D:\Documents\Projects\
git clone https://your-repo-url.git NewProjectName

# ???? copy folder
Copy-Item -Path "D:\Documents\Projects\AbpProject" -Destination "D:\Documents\Projects\NewProjectName" -Recurse
```

### 2. Clean Up Files
```powershell
cd NewProjectName

# ?? folders ????????????
Remove-Item -Recurse -Force .git, .vs, bin, obj, Logs, App_Data -ErrorAction SilentlyContinue

# ?? user-specific files
Remove-Item *.user, *.suo -ErrorAction SilentlyContinue
```

### 3. Rename Project Files & Content

??? script `Rename-Project.ps1` (??????????) ?????? manual:

```powershell
# ?????????? "AbpProject" ???? "NewProjectName" ?????????????
$oldName = "AbpProject"
$newName = "NewProjectName"

# ???????? .csproj, .sln, .cs, .json files
Get-ChildItem -Recurse -Include *.csproj,*.sln,*.cs,*.json,*.cshtml,*.razor |
    ForEach-Object {
        (Get-Content $_.FullName) -replace $oldName, $newName | 
        Set-Content $_.FullName
    }

# Rename project file
Rename-Item "$oldName\$oldName.csproj" "$newName.csproj"

# Rename solution file
Rename-Item "$oldName.sln" "$newName.sln"

# Rename project folder
Rename-Item "$oldName" "$newName"
```

### 4. Update Configuration

**appsettings.json:**
```json
{
  "App": {
    "SelfUrl": "https://localhost:44359",  // ??????? port ??????????
    "HealthCheckUrl": "/health-status"
  },
  "ConnectionStrings": {
    "Default": "Server=(LocalDb)\\MSSQLLocalDB;Database=NewProjectName;Trusted_Connection=True;TrustServerCertificate=true"
  },
  "AuthServer": {
    "Authority": "https://localhost:44359",
    "CertificatePassPhrase": "new-guid-here"  // ????? GUID ????
  }
}
```

**launchSettings.json:**
```json
{
  "profiles": {
    "NewProjectName": {
      "commandName": "Project",
      "launchBrowser": true,
      "environmentVariables": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      },
      "applicationUrl": "https://localhost:44359/"
    }
  }
}
```

### 5. Update Namespace & Assembly Info

?????? namespace ?????????????:
- `namespace AbpProject;` ? `namespace NewProjectName;`
- `using AbpProject.` ? `using NewProjectName.`

### 6. Generate New Certificate
```powershell
# ????? development certificate ????
dotnet dev-certs https --clean
dotnet dev-certs https --trust

# ????? OpenIddict certificate (???????????????? production)
# ???????????????? first run ?? development mode
```

### 7. Update Database
```powershell
cd NewProjectName

# ?? Migrations ???? (???????????????????)
Remove-Item -Recurse Migrations

# ????? migration ????
dotnet ef migrations add InitialCreate

# Run migration
dotnet run --migrate-database
```

### 8. Test New Project
```powershell
dotnet run

# ???????????????
Start-Process "https://localhost:44359"

# Login ????:
# Username: dev, Password: Dev@123
# ????
# Username: admin, Password: 1q2w3E*
```

---

## ?? ??????? 2: ??? PowerShell Script (?????)

??? script `Rename-Project.ps1` ??? `Create-NewProject.ps1` ???????????

### ?????????:
```powershell
# ???????????????????? template
.\Create-NewProject.ps1 -NewProjectName "MyNewWebApp" -OutputPath "D:\Projects"

# Script ??:
# 1. Copy files
# 2. Rename ?????????????????
# 3. Update configuration
# 4. Clean up
# 5. ???????????
```

---

## ?? ??????? 3: ????? ABP Template Package

### 1. ????? NuGet Template Package

**CreateTemplate.ps1:**
```powershell
# Package project ???? template
dotnet pack AbpProject.csproj -c Release -o templates/

# Install template locally
dotnet new install .\templates\AbpProject.1.0.0.nupkg

# ?????? template
dotnet new abpproject -n MyNewProject -o D:\Projects\MyNewProject
```

### 2. ????? `.template.config/template.json`

????? folder `.template.config` ?? root project ?????????? `template.json`:

```json
{
  "$schema": "http://json.schemastore.org/template",
  "author": "Your Name",
  "classifications": ["Web", "ABP", "Razor Pages"],
  "identity": "AbpProject.Template",
  "name": "ABP Project Template",
  "shortName": "abpproject",
  "tags": {
    "language": "C#",
    "type": "project"
  },
  "sourceName": "AbpProject",
  "preferNameDirectory": true,
  "symbols": {
    "ProjectName": {
      "type": "parameter",
      "datatype": "string",
      "replaces": "AbpProject",
      "defaultValue": "MyProject"
    },
    "DatabaseName": {
      "type": "parameter",
      "datatype": "string",
      "replaces": "AbpProject",
      "defaultValue": "MyProjectDb"
    },
    "Port": {
      "type": "parameter",
      "datatype": "string",
      "replaces": "44359",
      "defaultValue": "44360"
    }
  }
}
```

---

## ??? Files ?????? Exclude ??? Template

????????? `.templateignore`:

```
# Build outputs
**/bin/
**/obj/
**/Logs/
**/App_Data/

# User-specific files
**/*.user
**/*.suo
**/.vs/
**/.vscode/

# Database files
**/*.mdf
**/*.ldf

# Migrations (optional - ??????????????????????)
**/Migrations/

# Certificates
**/openiddict.pfx

# Git
.git/
.gitignore

# Documentation ??????????????
DEV_LOGIN_README.md
TROUBLESHOOTING.md
```

---

## ? Checklist ?????? Template ????

????????????????????????? template ??????????:

- [ ] ???????????????????????????????
- [ ] Namespace ???????
- [ ] Connection string ??? database ????
- [ ] Port ?????????????????????
- [ ] Certificate ????????????
- [ ] GUID ?????????? CertificatePassPhrase
- [ ] Migration ???????????????????
- [ ] Dev user login ???
- [ ] Build ??????
- [ ] Run ???????

---

## ?? Configuration ?????????????????????????????

### 1. appsettings.json
- `SelfUrl` ??? `Authority` - URL ??? application
- `ConnectionStrings.Default` - Database name ??? server
- `CertificatePassPhrase` - ????? GUID ????

### 2. launchSettings.json
- `applicationUrl` - Port ?????? development
- Profile name - ???? profile ?? Visual Studio

### 3. Database
- Migration name
- Database name ?? connection string

### 4. UI/Branding
- Logo ??? icons
- Theme colors
- Application title

---

## ?? Best Practices

### 1. Version Control
```powershell
# Initialize git repository
git init
git add .
git commit -m "Initial commit from template"

# Add remote
git remote add origin https://your-new-repo-url.git
git push -u origin main
```

### 2. Documentation
????? README.md ??????????????????:
```markdown
# MyNewProject

## Prerequisites
- .NET 10 SDK
- SQL Server LocalDB
- Visual Studio 2022 or VS Code

## Getting Started
1. Clone repository
2. Run `dotnet run --migrate-database`
3. Run `dotnet run`
4. Navigate to https://localhost:44359

## Default Credentials
- Username: dev, Password: Dev@123
- Username: admin, Password: 1q2w3E*
```

### 3. Configuration Management
??? User Secrets ?????? sensitive data:
```powershell
dotnet user-secrets init
dotnet user-secrets set "ConnectionStrings:Default" "your-connection-string"
```

### 4. Environment-Specific Settings
????? `appsettings.Development.json`, `appsettings.Staging.json`, `appsettings.Production.json`

---

## ?? Quick Start Commands

```powershell
# Clone & Rename
.\Create-NewProject.ps1 -NewProjectName "MyWebApp" -OutputPath "D:\Projects"

# Navigate
cd D:\Projects\MyWebApp

# Setup Database
dotnet run --migrate-database

# Run
dotnet run

# Open Browser
Start-Process "https://localhost:44359"
```

---

## ?? Additional Resources

- [ABP Documentation](https://abp.io/docs)
- [.NET Template Engine](https://docs.microsoft.com/en-us/dotnet/core/tools/custom-templates)
- [ABP CLI](https://abp.io/docs/latest/cli)

---

## ?? Common Issues

### Issue: Port already in use
**Solution:** ??????? port ?? `launchSettings.json` ??? `appsettings.json`

### Issue: Database connection failed
**Solution:** ??????? connection string ??? SQL Server service

### Issue: Certificate errors
**Solution:** ??? `dotnet dev-certs https --trust`

### Issue: Migration errors
**Solution:** ?? `Migrations` folder ????????????

---

## ?? Tips

1. **????? Script Library:** ???? PowerShell scripts ????? `scripts/` folder
2. **Document Custom Changes:** ??????????????????? CHANGELOG.md
3. **Use Git Tags:** Tag template versions ?????? reference
4. **Automate Testing:** ????? CI/CD pipeline ????? template
5. **Keep Updated:** Update ABP packages ?????????

---

## ?? Next Steps

???????????? template ????:
1. ????????????????????????? template
2. Document ????????????????
3. Share ??????
4. Maintain ??? update template ?????????
